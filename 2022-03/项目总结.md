## Jupyter
- 项目难点
主要难点在系统设计上，涉及的上下游服务非常多，而且整个系统是从0到1搭建的

首先我先说说我们的系统架构以及服务调用关系

其中有个Hub服务，Hub服务主要负责管理所有用户SSO登录，鉴权以及容器启停，包括将用户界面上的请求通过代理转发到具体的容器端口

用户进入Hub界面后，可以选择对应镜像和队列资源进行启动，这里容器的镜像是由我们构建的，我们构建了一套CI流程，提交代码后通过Jenkins自动化构建镜像、测试、发布的流程

用户可以选择自己需要的镜像进行启动，启动后，将用户url添加到代理层，后续用户的请求会路由到用户容器内

用户容器内会有个notebook server进程，这个进程通过websocket和界面交互，用户执行代码，会首先由websocket从前端发到notebook server，
notebook server通过zmq消息队列将执行信息发到具体的执行内核端（比如说Python内核），内核端执行完成会将执行结果通过zmq再发回给server端，
server端通过websocket发送给前端，前端界面渲染。这个是用户简单执行的流程。

用户还有例行化生产的需求，每天处理指定当天分区的数据，做例行化的数据处理和训练。我们也开发了一套对应的调度生产，根据用户的配置定期拉起容器执行用户代码

还有一些难点就是，经常会遇到一些棘手难排查的问题，比如内核卡住、内核开多了卡顿的一系列问题，我也一一进行了排查，最终都解决了

